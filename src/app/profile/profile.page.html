<ion-header translucent="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Profile</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true" class="profile-bg">
  <div class="profile-header">
    <ion-avatar class="avatar" *ngIf="getProfileImage()">
      <img [src]="getProfileImage()" alt="Profile Picture" />
    </ion-avatar>
    <div class="profile-info" [class.no-avatar]="!getProfileImage()">
      <h2>{{ user?.name }}</h2>
      <p>Points: {{ user?.points || 0}}</p>
    </div>
  </div>

  <ion-list>
    <ion-list-header>
      <ion-label>Account settings</ion-label>
    </ion-list-header>

    <ion-item button (click)="goToPersonalInfo()">
      <ion-icon name="person-outline" slot="start"></ion-icon>
      <ion-label>Personal information</ion-label>
    </ion-item>

    <ion-item button (click)="goToCarInfo()">
      <ion-icon name="car-outline" slot="start"></ion-icon>
      <ion-label>Car Information</ion-label>
    </ion-item>    

    <ion-item button (click)="goToPayments()">
      <ion-icon name="card-outline" slot="start"></ion-icon>
      <ion-label>Payments and disbursements</ion-label>
    </ion-item>

    <ion-item button (click)="goToPrivacyPolicy()">
      <ion-icon name="document-text-outline" slot="start"></ion-icon>
      <ion-label>Privacy Policy</ion-label>
    </ion-item>

    <ion-item button (click)="goToChangePassword()">
      <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
      <ion-label>Reset Password</ion-label>
    </ion-item>

    <ion-item button (click)="goToAccountAbout()">
      <ion-icon name="information-circle-outline" slot="start"></ion-icon>
      <ion-label>About Your Account</ion-label>
    </ion-item>

    <ion-item button (click)="goToAppUpdates()">
      <ion-icon name="sync-outline" slot="start"></ion-icon>
      <ion-label>App Updates</ion-label>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-list-header>
      <ion-label>Support</ion-label>
    </ion-list-header>

    <ion-item button (click)="goToHelpCenter()">
      <ion-icon name="help-circle-outline" slot="start"></ion-icon>
      <ion-label>To help center</ion-label>
    </ion-item>

    <ion-item button (click)="goToHelpWithSecurity()">
      <ion-icon name="alert-circle-outline" slot="start"></ion-icon>
      <ion-label>Help with security</ion-label>
    </ion-item>

    <ion-item button (click)="goToTermsOfUse()">
      <ion-icon name="document-text-outline" slot="start"></ion-icon>
      <ion-label>Terms of Use</ion-label>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-item button (click)="logout()">
      <ion-icon name="log-out-outline" slot="start"></ion-icon>
      <ion-label color="danger">Log out</ion-label>
    </ion-item>
  </ion-list>

  <!-- Delete Account Section -->
  <ion-list>
    <ion-list-header>
      <ion-label>Danger Zone</ion-label>
    </ion-list-header>
    <ion-item button (click)="confirmDeleteAccount()">
      <ion-icon name="trash-outline" slot="start" color="danger"></ion-icon>
      <ion-label color="danger">Delete Account</ion-label>
    </ion-item>
  </ion-list>
</ion-content>
